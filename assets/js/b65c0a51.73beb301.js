"use strict";(self.webpackChunkmy_demo=self.webpackChunkmy_demo||[]).push([[5564],{1058:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>i,contentTitle:()=>o,default:()=>h,frontMatter:()=>d,metadata:()=>s,toc:()=>l});const s=JSON.parse('{"id":"RENESAS RZ-G2L/document","title":"**Setting Up Yocto Build Environment for Renesas RZ-G2L**","description":"This guide provides step-by-step instructions to set up a Yocto build environment for the Renesas RZ-G2L board.","source":"@site/docs/RENESAS RZ-G2L/document.md","sourceDirName":"RENESAS RZ-G2L","slug":"/RENESAS RZ-G2L/document","permalink":"/my-demo/docs/RENESAS RZ-G2L/document","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/RENESAS RZ-G2L/document.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Translate your site","permalink":"/my-demo/docs/tutorial-extras/translate-your-site"},"next":{"title":"Setting Up Ubuntu, Docker, and Docusaurus","permalink":"/my-demo/docs/SETUP/setup-ubuntu-docusaurus"}}');var a=r(4848),t=r(8453);const d={},o="Setting Up Yocto Build Environment for Renesas RZ-G2L",i={},l=[{value:"<strong>1. Create a Working Folder</strong>",id:"1-create-a-working-folder",level:2},{value:"<strong>2. Download and Move <code>rzg.tar.gz</code></strong>",id:"2-download-and-move-rzgtargz",level:2},{value:"<strong>3. Extract <code>rzg.tar.gz</code></strong>",id:"3-extract-rzgtargz",level:2},{value:"<strong>4. Open Folder in a Development Container</strong>",id:"4-open-folder-in-a-development-container",level:2},{value:"<strong>5. Download Additional Packages</strong>",id:"5-download-additional-packages",level:2},{value:"<strong>6. Configure Git</strong>",id:"6-configure-git",level:2},{value:"<strong>7. Unzip the 3 Packages</strong>",id:"7-unzip-the-3-packages",level:2},{value:"<strong>8. Create and Navigate to <code>yocto</code> Folder</strong>",id:"8-create-and-navigate-to-yocto-folder",level:2},{value:"<strong>9. Extract VLP, Graphics, and Video Codec Files</strong>",id:"9-extract-vlp-graphics-and-video-codec-files",level:2},{value:"<strong>10. Apply VLP Update Patch</strong>",id:"10-apply-vlp-update-patch",level:2},{value:"xaxaxsax",id:"xaxaxsax",level:2},{value:"<strong>11. Apply Additional Patch Files</strong>",id:"11-apply-additional-patch-files",level:2},{value:"<strong>12. Initialize Yocto Build Environment</strong>",id:"12-initialize-yocto-build-environment",level:2},{value:"<strong>13. Add Necessary Layers</strong>",id:"13-add-necessary-layers",level:2},{value:"<strong>14. Add Custom Configuration</strong>",id:"14-add-custom-configuration",level:2},{value:"<strong>15. Build Weston Image</strong>",id:"15-build-weston-image",level:2},{value:"<strong>16. Prepare SD Card</strong>",id:"16-prepare-sd-card",level:2},{value:"<strong>17. Boot the Board</strong>",id:"17-boot-the-board",level:2},{value:"<strong>18. Additional Notes</strong>",id:"18-additional-notes",level:2}];function c(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",hr:"hr",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"setting-up-yocto-build-environment-for-renesas-rz-g2l",children:(0,a.jsx)(n.strong,{children:"Setting Up Yocto Build Environment for Renesas RZ-G2L"})})}),"\n",(0,a.jsx)(n.p,{children:"This guide provides step-by-step instructions to set up a Yocto build environment for the Renesas RZ-G2L board."}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h2,{id:"1-create-a-working-folder",children:(0,a.jsx)(n.strong,{children:"1. Create a Working Folder"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"mkdir -p ~/work/rzg\ncd ~/work/rzg\n"})}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h2,{id:"2-download-and-move-rzgtargz",children:(0,a.jsxs)(n.strong,{children:["2. Download and Move ",(0,a.jsx)(n.code,{children:"rzg.tar.gz"})]})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["Download the file from ",(0,a.jsx)(n.a,{href:"http://192.168.113.104/rz/moil/rzg/",children:"http://192.168.113.104/rz/moil/rzg/"}),"."]}),"\n",(0,a.jsxs)(n.li,{children:["Drag the downloaded ",(0,a.jsx)(n.code,{children:"rzg.tar.gz"})," file into the ",(0,a.jsx)(n.code,{children:"~/work/rzg"})," folder using Visual Studio Code."]}),"\n"]}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h2,{id:"3-extract-rzgtargz",children:(0,a.jsxs)(n.strong,{children:["3. Extract ",(0,a.jsx)(n.code,{children:"rzg.tar.gz"})]})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"tar xzvf rzg.tar.gz\n"})}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h2,{id:"4-open-folder-in-a-development-container",children:(0,a.jsx)(n.strong,{children:"4. Open Folder in a Development Container"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["Open the ",(0,a.jsx)(n.code,{children:"~/work/rzg"})," folder in a new development container using Visual Studio Code.",(0,a.jsx)(n.img,{alt:"New Dev Container",src:r(8832).A+"",width:"1356",height:"586"})]}),"\n"]}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h2,{id:"5-download-additional-packages",children:(0,a.jsx)(n.strong,{children:"5. Download Additional Packages"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["Download the following 3 files (Graphics, Video Codec & VLP) from ",(0,a.jsx)(n.a,{href:"http://192.168.113.104/rz/RZG/",children:"http://192.168.113.104/rz/RZG/"}),":"]}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"  - RTK0EF0045Z0021AZJ-v3.0.6-update3.zip\n  - RTK0EF0045Z13001ZJ-v1.2.2_EN.zip\n  - RTK0EF0045Z15001ZJ-v1.2.2_EN.zip\n"})}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h2,{id:"6-configure-git",children:(0,a.jsx)(n.strong,{children:"6. Configure Git"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:'git config --global user.email "you@example.com"\ngit config --global user.name "Your Name"\n'})}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h2,{id:"7-unzip-the-3-packages",children:(0,a.jsx)(n.strong,{children:"7. Unzip the 3 Packages"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"unzip RTK0EF0045Z0021AZJ-v3.0.6-update3.zip\nunzip RTK0EF0045Z13001ZJ-v1.2.2_EN.zip\nunzip RTK0EF0045Z15001ZJ-v1.2.2_EN.zip\n"})}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h2,{id:"8-create-and-navigate-to-yocto-folder",children:(0,a.jsxs)(n.strong,{children:["8. Create and Navigate to ",(0,a.jsx)(n.code,{children:"yocto"})," Folder"]})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"mkdir -p ~/work/rzg/yocto\ncd ~/work/rzg/yocto\n"})}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h2,{id:"9-extract-vlp-graphics-and-video-codec-files",children:(0,a.jsx)(n.strong,{children:"9. Extract VLP, Graphics, and Video Codec Files"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"tar zxvf ../RTK0EF0045Z0021AZJ-v3.0.6-update3/rzg_vlp_v3.0.6.tar.gz\ntar zxvf ../RTK0EF0045Z13001ZJ-v1.2.2_EN/meta-rz-features_graphics_v1.2.2.tar.gz\ntar zxvf ../RTK0EF0045Z15001ZJ-v1.2.2_EN/meta-rz-features_codec_v1.2.2.tar.gz\n"})}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h2,{id:"10-apply-vlp-update-patch",children:(0,a.jsx)(n.strong,{children:"10. Apply VLP Update Patch"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"patch -p1 < ../RTK0EF0045Z0021AZJ-v3.0.6-update3/vlpg306-to-vlpg306update3.patch\n"})}),"\n",(0,a.jsx)(n.h2,{id:"xaxaxsax",children:"xaxaxsax"}),"\n",(0,a.jsx)(n.h2,{id:"11-apply-additional-patch-files",children:(0,a.jsx)(n.strong,{children:"11. Apply Additional Patch Files"})}),"\n",(0,a.jsxs)(n.p,{children:["Download the extra patches from ",(0,a.jsx)(n.a,{href:"https://m11158002.github.io/moil-renesas/docs/note/renesas/rzg",children:"this source"})," and apply them:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"patch -p1 < ../extra/0001-rz-common-recipes-debian-buster-glibc-update-to-v2.2.patch\n\npatch -p1 < ../extra/0001-rz-common-linux-update-linux-kernel-to-the-latest-re.patch\n\npatch -p1 < ../extra/0001-rz-common-gst-plugins-bad-Depending-bayer2raw-if-lay.patch\n\npatch -p1 < ../extra/0001-gstreamer-moil-plugin-91a25cd4d16fc479aefd2aa853466770.patch\n\npatch -p1 < ../extra/0002-fix_qtsmarthome_url-db1d20dcf1b5af60dc7034e78271ddc2.patch\n"})}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h2,{id:"12-initialize-yocto-build-environment",children:(0,a.jsx)(n.strong,{children:"12. Initialize Yocto Build Environment"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"TEMPLATECONF=$PWD/meta-renesas/meta-rzg2l/docs/template/conf/ source poky/oe-init-build-env build\n"})}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h2,{id:"13-add-necessary-layers",children:(0,a.jsx)(n.strong,{children:"13. Add Necessary Layers"})}),"\n",(0,a.jsxs)(n.p,{children:["Update ",(0,a.jsx)(n.code,{children:"build/conf/bblayers.conf"})," by adding the following layers:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"bitbake-layers add-layer ../meta-rz-features/meta-rz-graphics\nbitbake-layers add-layer ../meta-rz-features/meta-rz-codecs\nbitbake-layers add-layer ../meta-qt5\n"})}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h2,{id:"14-add-custom-configuration",children:(0,a.jsx)(n.strong,{children:"14. Add Custom Configuration"})}),"\n",(0,a.jsxs)(n.p,{children:["Append the following to ",(0,a.jsx)(n.code,{children:"conf/local.conf"}),":"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:'QT_DEMO = "1"\n\nIMAGE_INSTALL_append = " kernel-module-uvcvideo "\nEXTRA_IMAGE_FEATURES_append = " ssh-server-openssh "\n\nIMAGE_INSTALL_append = " curl graphviz "\nIMAGE_INSTALL_append = " gst-instruments gst-shark "\nPACKAGECONFIG_append_pn-gstreamer1.0 = " tracer-hooks "\n'})}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h2,{id:"15-build-weston-image",children:(0,a.jsx)(n.strong,{children:"15. Build Weston Image"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"MACHINE=smarc-rzg2l bitbake core-image-weston\n"})}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h2,{id:"16-prepare-sd-card",children:(0,a.jsx)(n.strong,{children:"16. Prepare SD Card"})}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsxs)(n.li,{children:["Insert the SD card and check its device name:","\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"sudo fdisk -l\n"})}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["Unmount any mounted partitions:","\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"sudo umount /dev/sda\n"})}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["Copy the image to the SD card:","\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"sudo bmaptool copy <wic image>.wic.gz /dev/sda\n"})}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h2,{id:"17-boot-the-board",children:(0,a.jsx)(n.strong,{children:"17. Boot the Board"})}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsx)(n.li,{children:"Insert the SD card into the RZ-G2L board."}),"\n",(0,a.jsx)(n.li,{children:"Power on the board."}),"\n",(0,a.jsxs)(n.li,{children:["Open the serial monitor in VS Code:","\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["Set the baud rate to ",(0,a.jsx)(n.code,{children:"115200"}),"."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h2,{id:"18-additional-notes",children:(0,a.jsx)(n.strong,{children:"18. Additional Notes"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["Ensure all dependencies (",(0,a.jsx)(n.code,{children:"bmap-tools"}),", ",(0,a.jsx)(n.code,{children:"unzip"}),", etc.) are installed on the host machine."]}),"\n",(0,a.jsx)(n.li,{children:"Manual steps like dragging files in VS Code are required as specified."}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{})})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(c,{...e})}):c(e)}},8832:(e,n,r)=>{r.d(n,{A:()=>s});const s=r.p+"assets/images/open_dev-6793d0202bf5fa6ef207cb37b8189be9.png"},8453:(e,n,r)=>{r.d(n,{R:()=>d,x:()=>o});var s=r(6540);const a={},t=s.createContext(a);function d(e){const n=s.useContext(t);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:d(e.components),s.createElement(t.Provider,{value:n},e.children)}}}]);